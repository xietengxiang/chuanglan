package com.chuanglan.webSend;

import java.util.ArrayList;
import java.util.List;

public class StringDivider {

	public final static Integer MAX_SEND_NUMS = 100;

	public static void main(String[] args) {
		String result = "{\"success\": false, \"r\":\"9020\"}";
		String str = result.substring(result.indexOf("\"success\": ")+10, result.indexOf(","));
		Boolean flag = new Boolean(str.trim());
		System.out.println(flag);
		str = result.substring(result.indexOf("\"r\":")+4, result.indexOf("}"));
		System.out.println(str.replaceAll("\"", ""));
		
		
		String phones = new String(
				"13004779929,13009173434,13011855015,13015689624,13023812340,13031326968,13031627160,13033007817,13033811898,13045036561,13047930923,13053531577,13055317838,13055508699,13057588062,13057678108,13061142516,13062097003,13063554860,13068689220,13069059073,13085509165,13087142109,13089998045,13105313900,13105346156,13113134031,13113395228,13116008693,13118002100,13125524444,13134534426,13144051163,13144786867,13146062719,13147883420,13152990826,13170322225,13170367449,13170835787,13170850690,13175305883,13175813071,13179174613,13182728737,13188352668,13189191760,13191905535,13197669550,13203463299,13205447393,13208978318,13216905083,13230564050,13234388883,13241877183,13242514454,13246611540,13248922049,13251020102,13252196061,13256844045,13258636808,13258818855,13260369989,13261012382,13261278038,13265772731,13268567168,13274239491,13286529920,13287430199,13290132599,13291680402,13297711123,13306670088,13307683231,13319803598,13321161511,13321822020,13325896892,13331118674,13336029223,13336660002,13337801813,13348454524,13349922983,13350091983,13353988722,13358585292,13367026408,13370140283,13372117311,13376222283,13378333836,13383361579,13387225296,13390873292,13393338167,13395603392,13396925196,13398950077,13400450788,13401155938,13404949041,13415081689,13420919444,13429689015,13432409707,13434388555,13435673912,13453002031,13457010101,13457011010,13457020202,13457030303,13457040404,13461464288,13466750302,13469660252,13472116666,13475103114,13475112456,13475356169,13476664367,13482800746,13483366713,13484723147,13500017438,13500924672,13501087233,13501981598,13502966112,13503631373,13505161029,13505194226,13505351321,13505791118,13506059253,13507507725,13507642262,13509401522,13509765600,13512351345,13512455313,13512728158,13514865791,13515054079,13515307219,13515387436,13516875594,13517604474,13521030030,13521314368,13521884108,13524991432,13526189495,13529092612,13532442380,13533073358,13533538116,13535305007,13538130396,13538971067,13539905677,13542316155,13545011267,13550662224,13552424896,13552678969,13553932021,13554806049,13555713827,13558418628,13560287844,13560735858,13565323866,13566494505,13567354743,13569978389,13573392623,13573592208,13578902113,13579274043,13580481706,13581719823,13582455256,13582578566,13583296655,13585458096,13588668683,13588841876,13588965823,13589088964,13589801085,13593490197,13602220510,13602735676,13604662966,13606320885,13606520734,13606534448,13606636484,13607503530,13608059304,13611200302,13612385258,13617001127,13619624611,13619990825,13621125760,13626458570,13626613269,13627899616,13629736659,13632328107,13634094128,13634735295,13636404278,13637182876,13638541420,13641409875,13641933965,13643014029,13644210753,13648383199,13651078719,13651720292,13654331597,13656117610,13656666039,13658690876,13659977129,13661524039,13663631322,13666215226,13666815632,13668654625,13668888455,13669255959,13671655333,13671790443,13673376505,13674273182,13674778394,13678680930,13681211222,13682718767,13686423387,13691093611,13691140045,13694436001,13694437930,13695764301,13697877737,13701289336,13701323008,13701371776,13705315346,13705754428,13706278743,13706348398,13707475011,13709846930,13711327936,13712735357,13712791959,13717841170,13722269118,13722430884,13723296499,13725219383,13725571473,13728270433,13731621648,13732191481,13735062777,13735066089,13738276333,13739228909,13755245546,13757557311,13758360477,13758608679,13758626271,13761038964,13761616578,13763419968,13764394279,13766666915,13770002807,13770602523");
		List<String> list = divideString(phones);
		for (int i = 0; i < list.size(); i++) {
			System.out.println(list.get(i));
		}
	}

	public static List<String> divideString(String phones) {
		List<String> result = new ArrayList<String>();

		String[] phoneArr = phones.split(",");
		int phoneLength = phoneArr.length;

		int num = (int) (phoneLength % MAX_SEND_NUMS == 0 ? phoneLength / MAX_SEND_NUMS
				: Math.floor(phoneLength / MAX_SEND_NUMS) + 1);

		System.out.println("// 按长度截取");
		// 按长度截取
		for (int j = 0; j < num; j++) {
			String phoneNOs = phones.substring(j * MAX_SEND_NUMS * 12,
					(j + 1) * MAX_SEND_NUMS * 12 - 1 > phones.length() ? phones.length()
							: (j + 1) * MAX_SEND_NUMS * 12 - 1);
			if (j == num - 1) {
				result.add(phoneNOs);
				return result;
			} else {
				if (phones.charAt((j + 1) * MAX_SEND_NUMS * 12 - 1 > phones.length() ? phones.length()
						: (j + 1) * MAX_SEND_NUMS * 12 - 1) == ',') {
					result.add(phoneNOs);
				} else {
					result.clear();
					break;
				}
			}
		}

		System.out.println("// 按数组组合");
		// 按数组组合
		for (int j = 0, k = 0; j < num; j++) {
			StringBuffer phoneNOs = new StringBuffer();
			for (; k < (j + 1) * MAX_SEND_NUMS; k++) {
				if (k >= phoneLength) {
					break;
				}
				phoneNOs.append(phoneArr[k] + ",");
			}
			result.add(phoneNOs.substring(0, phoneNOs.length() - 1));
		}
		return result;
	}
}
